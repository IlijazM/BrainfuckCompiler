package compile;

class End extends Command {

	@Override
	public String name() {
		return "end";
	}
	
	@Override
	public String description() {
		return "end loopname";
	}
	
	@Override
	public void convert(String[] args) throws IndexOutOfBoundsException, NumberFormatException {
		int i = Command.functions.indexOf(args[1]);
		
		int j = Command.mode.get(i);
		
		Command.mode.remove(i);
		
		Command.functions.remove(i);
		
		//System.out.println("Compiler pointer then = " + Compiler.pointer);
		//System.out.println("pointer = " + Command.functionsPointer.get(i));
		gotoc(Command.functionsPointer.get(i));
		System.out.println("Compiler pointer now = " + Compiler.pointer);
		
		Command.functionsPointer.remove(i);
		
		Compiler.mem[j] = 0;
		
		append("]");
	}

}
